# 切片类型

* string, int, bool, 数组，struct都属于非引用数据类型

* 指针，slice切片，map，chan都是引用数据类型。

* 在非引用类型数据，是值传递，会拷贝一份变量到新的内存地址，不会改变原值。

* 在非引用类型数据，只能通过传递指针这种引用才能实现和函数中变量值同步

  ```go
  func changeIntPtr(a *int) {
  
      *a = 50;
  
  }
  a := 30
  changeIntPtr(&a)//a变为50
  ```

* 切片等引用类型数据不用传址也可以对原值做出改变

  ```
  func changeSlice(a []int) {
  	a[0] = 2
  }
  a := []int{1,2,3,4}
  changeSlice(a)//a变为[2,2,3,4] 
  ```

  

# 切片的容量

* 切片可以指定长度和容量, `make([]int, len, cap)`， 切片的数据结构中，包含一个指向数组的指针 `array` ，当前长度 `len` ，以及最大容量 `cap` 

* 当对切片进行append，导致长度超出容量时，就会创建新数组，导致切片。

  ```go
  a := make([]int, 5)
  b := a[0:4]
  a = append(a, 1)
  a[1] = 5
  fmt.Println(b)
  // [0 0 0 0]
  fmt.Println(a)
  // [0 5 0 0 0 1]</pre>
  ```

* 当对切片进行append，容量没有改变的时候，指针不变，不会创建新数组

# 切片的扩容机制

* 当需要的容量超过原切片容量的两倍时，会使用需要的容量作为新容量。

* 当原切片长度小于1024时，新切片的容量会直接翻倍。而当原切片的容量大于等于1024时，会反复地增加25%，直到新容量超过所需要的容量。