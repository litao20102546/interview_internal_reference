https://blog.csdn.net/shaoduo/article/details/93221220

## 切片数据结构

一个切片是一个数组片段的描述（实际上是个整形数组）。它包含了指向数组的指针，片段的长度， 和容量（片段的最大长度）。如下图

 

![img](https://img-blog.csdnimg.cn/2019062119111778.png)

前面使用 make([]byte, 5) 创建的切片变量  s 的结构如下：

 

![img](https://img-blog.csdnimg.cn/2019062119123548.png)

长度是切片引用的元素数目。

***\*切片扩容都是以cap为尺寸大小扩容，内存大小是cap的整数倍\****

## 下切片特性

1: 占用资源很小

2: slice[a:b] 包含a索引值，不包含b索引值，默认容量上界索引为被操作对象容量上界索引

3: slice[a:b:c] 包含a索引值，不包含b索引值，容量上界索引为c（cap中不包含索引C位置）

4: slice 只能向后扩展，不能向前扩展

5: slice append

(1)某次操作未超过该slice容量上界索引，此次改变会更新原数组;

(2)某次操作超过该slice容量上界索引则新的被操作对象数组会被新建，此次改变不会更新原数组



## 切片坑

* 子切片和父切片用的是同一个底层数组， 改变子切片也会改变父切片
* for range遍历的是副本, 不会改变切片值
* 